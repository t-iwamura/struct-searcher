units metal
box tilt large
atom_style atomic

boundary p p p
read_data /home/iwamura/struct-searcher/tests/data/structures/initial_structure

pair_style polymlp
pair_coeff * * /home/iwamura/struct-searcher/tests/data/potentials/Ti-Al/gtinv-411/mlp.lammps Ti Al

# What to monitor during minimization
thermo 1
thermo_style custom step temp pe etotal press fnorm
thermo_modify norm no

# Rebuild neighbor list at every timestep
neigh_modify delay 0 every 1 check yes one 100000 page 1000000

# Move atoms only
minimize 0.0 1e-08 1000 100000
reset_timestep 0

# Do isotropic volume relaxation
fix fiso all box/relax iso 0.0
minimize 0.0 1e-08 1000 100000
unfix fiso
reset_timestep 0

# Do anisotropic volume relaxation without shear
fix faniso all box/relax aniso 0.0
minimize 0.0 1e-08 1000 100000
unfix faniso
reset_timestep 0

# Do anisotropic volume relaxation with shear
fix ftri all box/relax tri 0.0
minimize 0.0 1e-08 1000 100000
unfix ftri
reset_timestep 0

# Output final structure
write_data /home/iwamura/struct-searcher/tests/data/structures/final_structure
